<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="디자인 패턴" /><meta property="og:locale" content="en" /><meta name="description" content="작성중…" /><meta property="og:description" content="작성중…" /><link rel="canonical" href="https://banjjak2.github.io//posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/" /><meta property="og:url" content="https://banjjak2.github.io//posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/" /><meta property="og:site_name" content="개발자로 살아남기" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-05T02:03:05+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="디자인 패턴" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"작성중…","url":"https://banjjak2.github.io//posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/","@type":"BlogPosting","headline":"디자인 패턴","dateModified":"2022-03-19T18:48:40+09:00","datePublished":"2022-03-05T02:03:05+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://banjjak2.github.io//posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/"},"@context":"https://schema.org"}</script><title>디자인 패턴 | 개발자로 살아남기</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="개발자로 살아남기"><meta name="application-name" content="개발자로 살아남기"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">개발자로 살아남기</a></div><div class="site-subtitle font-italic">공부하자!!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/banjjak2" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['interr0bang','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>디자인 패턴</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>디자인 패턴</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Seongwook Jang </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Mar 5, 2022, 2:03 AM +0900" >Mar 5<i class="unloaded">2022-03-05T02:03:05+09:00</i> </span></div><div> <span> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sat, Mar 19, 2022, 6:48 PM +0900" >Mar 19<i class="unloaded">2022-03-19T18:48:40+09:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4245 words">23 min read</span></div></div><div class="post-content"><h1 id="작성중"><strong>작성중…</strong></h1><p><strong>마지막 업데이트 : 2022-03-19 18:48:01 +0900</strong></p><hr /><h1 id="주요-디자인-패턴">주요 디자인 패턴</h1><h2 id="디자인-패턴이란">디자인 패턴이란</h2><ul><li><p>객체 지향 설계는 변화에 유연하게 대응하기 위해 특정 상황에 맞는 패턴을 이용하게 되는데 이를 디자인 패턴이라고 한다. 여기서 특정 상황이란 클래스, 객체의 구성, 객체 간 메시지 흐름에서 알맞는 설계를 하는 것이다.</p><li><p>디자인 패턴을 배우면서 느낄 수 있는 장점은 아래와 같다.</p><ol><li>상황에 맞는 설계를 빠르게 적용시킬 수 있다.<li>각 패턴의 장단점을 통해 어떻게 설계할 것인지에 대해 도움을 받을 수 있다.<li>설계한 패턴에 이름을 붙임으로써 문서화, 이해, 유지보수에 도움을 얻을 수 있다.</ol></ul><h3 id="전략-패턴-strategy-pattern">전략 패턴 (Strategy Pattern)</h3><ul><li><p>전략 패턴은 전략(Strategy)과 컨텍스트(Context)라는 이름으로 나뉘어지는데, 여기서 전략이란 어떤 기능을 수행하는데 필요한 알고리즘을 직접 구현한 객체가 되며 콘텍스트는 이를 사용하는 책임을 갖고 있는 것을 말한다.</p><li><p>따라서 특정 컨텍스트에서 어떤 기능을 수행하는데 필요한 알고리즘을 따로 분리해내 컨텍스트에서는 어떤 알고리즘을 사용하는지 알 필요가 없다.</p><li><p>전략 패턴을 사용했을때와 사용하지 않았을 때의 코드를 비교해자면 아래와 같다.</p><ol><li><strong>사용하지 않았을 때</strong></ol><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>  <span class="kd">data class</span> <span class="nc">Item</span><span class="p">(</span><span class="kd">val</span> <span class="py">price</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span>

  <span class="kd">class</span> <span class="nc">Coupon</span> <span class="p">{</span>
      <span class="k">fun</span> <span class="nf">calculatePrice</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="nc">Item</span><span class="p">,</span> <span class="n">isFirst</span><span class="p">:</span> <span class="nc">Boolean</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="n">isFirst</span><span class="p">)</span> <span class="p">{</span>
              <span class="k">return</span> <span class="n">item</span><span class="p">.</span><span class="n">price</span> <span class="p">-</span> <span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="n">price</span> <span class="p">*</span> <span class="mf">0.8</span><span class="p">).</span><span class="nf">toInt</span><span class="p">()</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
              <span class="k">return</span> <span class="n">item</span><span class="p">.</span><span class="n">price</span> <span class="p">-</span> <span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="n">price</span> <span class="p">*</span> <span class="mf">0.5</span><span class="p">).</span><span class="nf">toInt</span><span class="p">()</span>
          <span class="p">}</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></table></code></div></div><ul><li>첫 번째 주문일 경우 80퍼센트의 할인을 해주고 그렇지 않다면 50퍼센트를 할인해주는 코드이다.<li>만약 첫 번째 주문이 아닌 오랜만에 주문했을 경우의 코드를 추가한다고 했을 때, if ~ else 구문과 메소드의 매개변수들은 점점 늘어나게 되고 관리가 힘들어지게 된다.</ul><ol><li><strong>사용했을 때</strong></ol><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre>  <span class="kd">interface</span> <span class="nc">DiscountStrategy</span> <span class="p">{</span>
      <span class="kd">val</span> <span class="py">ratio</span><span class="p">:</span> <span class="nc">Double</span>
      <span class="k">fun</span> <span class="nf">getDiscountPrice</span><span class="p">(</span><span class="n">price</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span>
  <span class="p">}</span>

  <span class="kd">class</span> <span class="nc">FirstOrderDiscount</span> <span class="p">:</span> <span class="nc">DiscountStrategy</span> <span class="p">{</span>
      <span class="k">override</span> <span class="kd">val</span> <span class="py">ratio</span><span class="p">:</span> <span class="nc">Double</span> <span class="p">=</span> <span class="mf">0.8</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">getDiscountPrice</span><span class="p">(</span><span class="n">price</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
          <span class="k">return</span> <span class="n">price</span> <span class="p">-</span> <span class="p">(</span><span class="n">price</span> <span class="p">*</span> <span class="n">ratio</span><span class="p">).</span><span class="nf">toInt</span><span class="p">()</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="kd">class</span> <span class="nc">OrderDiscount</span> <span class="p">:</span> <span class="nc">DiscountStrategy</span> <span class="p">{</span>
      <span class="k">override</span> <span class="kd">val</span> <span class="py">ratio</span><span class="p">:</span> <span class="nc">Double</span> <span class="p">=</span> <span class="mf">0.5</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">getDiscountPrice</span><span class="p">(</span><span class="n">price</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
          <span class="k">return</span> <span class="n">price</span> <span class="p">-</span> <span class="p">(</span><span class="n">price</span> <span class="p">*</span> <span class="n">ratio</span><span class="p">).</span><span class="nf">toInt</span><span class="p">()</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="kd">data class</span> <span class="nc">Item</span><span class="p">(</span><span class="kd">val</span> <span class="py">price</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span>

  <span class="kd">class</span> <span class="nc">Coupon</span><span class="p">(</span><span class="k">private</span> <span class="kd">val</span> <span class="py">discountStrategy</span><span class="p">:</span> <span class="nc">DiscountStrategy</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">fun</span> <span class="nf">calculatePrice</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="nc">Item</span><span class="p">):</span> <span class="nc">Int</span> <span class="p">{</span>
          <span class="k">return</span> <span class="n">discountStrategy</span><span class="p">.</span><span class="nf">getDiscountPrice</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="n">price</span><span class="p">)</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></table></code></div></div><ul><li>사용하지 않았을 때와 동일한 값을 반환하지만 새로운 할인 전략이 발생했을 때 <code class="language-plaintext highlighter-rouge">DiscountStrategy</code>를 상속받는 클래스를 이용해 정의하고 사용할 수 있게 된다.<li>이렇게 되면 객체 지향 설계 중 하나인 <code class="language-plaintext highlighter-rouge">OCP원칙</code>을 지킬 수 있게 된다.</ul></ul><hr /><h3 id="템플릿-메서드-패턴-template-method">템플릿 메서드 패턴 (Template Method)</h3><ul><li><p>프로그램을 구현하다 보면, 완전히 동일한 절차를 가진 코드를 작성하게 될 수 있다. 즉, 일부 과정의 구현만 다를 뿐 나머지 구현은 완전히 같을 수 있는데, 그 예는 아래와 같다.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre>  <span class="kd">class</span> <span class="nc">DbAuthenticator</span> <span class="p">{</span>
      <span class="k">fun</span> <span class="nf">authenticate</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="n">pw</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Auth</span> <span class="p">{</span>
          <span class="kd">val</span> <span class="py">user</span> <span class="p">=</span> <span class="n">userDao</span><span class="p">.</span><span class="nf">selectById</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
          <span class="n">auth</span> <span class="p">=</span> <span class="n">user</span><span class="p">.</span><span class="nf">equalPassword</span><span class="p">(</span><span class="n">pw</span><span class="p">)</span>
          <span class="k">if</span> <span class="p">(!</span><span class="n">auth</span><span class="p">)</span> <span class="p">{</span>
              <span class="k">throw</span> <span class="nc">Exception</span><span class="p">()</span>
          <span class="p">}</span>
          <span class="k">return</span> <span class="n">new</span> <span class="nc">Auth</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">user</span><span class="p">.</span><span class="nf">getName</span><span class="p">());</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="kd">class</span> <span class="nc">LdapAuthenticator</span> <span class="p">{</span>
      <span class="k">fun</span> <span class="nf">authenticate</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="n">pw</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Auth</span> <span class="p">{</span>
          <span class="n">auth</span> <span class="p">=</span> <span class="n">ldapClient</span><span class="p">.</span><span class="nf">authenticate</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">pw</span><span class="p">)</span>
          <span class="k">if</span> <span class="p">(!</span><span class="n">aut</span><span class="p">)</span> <span class="p">{</span>
              <span class="k">throw</span> <span class="nc">Exception</span><span class="p">()</span>
          <span class="p">}</span>
          <span class="n">ctx</span> <span class="p">=</span> <span class="n">ldapClient</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
          <span class="k">return</span> <span class="n">new</span> <span class="nc">Auth</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">ctx</span><span class="p">.</span><span class="nf">getAttribute</span><span class="p">(</span><span class="s">"name))
</span>      <span class="p">}</span>
  <span class="p">}</span>
</pre></table></code></div></div><li>위 코드는 단순히 DB와 LDAP를 이용해 인증하는 구조인데, 몇 부분을 제외하고는 완전히 동일한 형태를 띄게 된다.<li>지금은 DB, LDAP만 있지만 또다른 인증 방법이 나오게 된다면 코드의 중복이 많이 발생하게 됨으로써 유지보수가 어려워지게 된다.<ul><li>코드의 중복이 많아지면 로직 중 하나를 수정할 때 모든 관련된 코드를 수정해야하는 단점이 존재한다.</ul><li>템플릿 패턴은 이러한 코드의 중복을 줄여주도록 아래와 같이 구성된다.<ul><li>실행 과정을 구현한 상위 클래스<li>실행 과정의 일부 단계를 구현한 하위 클래스</ul><li><p>상위 클래스는 추상 메서드를 이용해 호출하며 하위 클래스에서는 이러한 추상 메서드를 직접 구현함으로써 코드의 중복을 줄일 수 있다. 그 예는 아래와 같다.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre>  <span class="k">abstract</span> <span class="kd">class</span> <span class="nc">Authenticator</span> <span class="p">{</span>
      <span class="k">fun</span> <span class="nf">authenticate</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="n">pw</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(!</span><span class="nf">doAuthenticate</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">pw</span><span class="p">))</span> <span class="p">{</span>
              <span class="k">throw</span> <span class="nc">Exception</span><span class="p">()</span>
          <span class="p">}</span>

          <span class="k">return</span> <span class="nf">createAuth</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
      <span class="p">}</span>

      <span class="k">protected</span> <span class="k">abstract</span> <span class="k">fun</span> <span class="nf">doAuthenticate</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="n">pw</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Boolean</span>
      <span class="k">protected</span> <span class="k">abstract</span> <span class="k">fun</span> <span class="nf">createAuth</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Auth</span>
  <span class="p">}</span>

  <span class="kd">class</span> <span class="nc">DbAuthenticator</span> <span class="p">:</span> <span class="nc">Authenticator</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">doAuthenticate</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="n">pw</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Boolean</span> <span class="p">{</span>
          <span class="o">..</span><span class="p">.</span>

          <span class="k">return</span> <span class="k">true</span>
      <span class="p">}</span>

      <span class="k">override</span> <span class="k">fun</span> <span class="nf">createAuth</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Auth</span> <span class="p">{</span>
          <span class="o">..</span><span class="p">.</span>

          <span class="k">return</span> <span class="nc">Auth</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></table></code></div></div><ul><li>위와 같이 구현하게 되면 <code class="language-plaintext highlighter-rouge">Authenticator</code>를 상속받는 클래스에서는 단순히 상위 클래스의 추상 메서드들을 재정의해면 된다.</ul><li><p>일반적으로 상속은 하위 클래스가 상위 클래스의 기능을 재사용할지 여부를 확인하지만 템플릿 메서드 패턴에서는 상위 클래스가 흐름을 제어하고 그 흐름에 하위 클래스가 끼어들어가게 되는 것이다.</p><li><p>또한, 템플릿 메서드 패턴에 훅(Hook) 메서드라는 것을 이용해 하위 클래스에서 확장할 수도 있는데 그 구조는 아래와 같다.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>  <span class="k">abstract</span> <span class="kd">class</span> <span class="nc">Authenticator</span> <span class="p">{</span>
      <span class="k">fun</span> <span class="nf">authenticate</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="n">pw</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(!</span><span class="nf">doAuthenticate</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">pw</span><span class="p">))</span> <span class="p">{</span>
              <span class="k">throw</span> <span class="nc">Exception</span><span class="p">()</span>
          <span class="p">}</span>
          <span class="nf">doSomthing</span><span class="p">()</span>

          <span class="k">return</span> <span class="nf">createAuth</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
      <span class="p">}</span>

      <span class="k">protected</span> <span class="k">abstract</span> <span class="k">fun</span> <span class="nf">doAuthenticate</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="n">pw</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Boolean</span>
      <span class="k">protected</span> <span class="k">abstract</span> <span class="k">fun</span> <span class="nf">createAuth</span><span class="p">(</span><span class="n">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">Auth</span>
      <span class="k">protected</span> <span class="k">fun</span> <span class="nf">doSomthing</span><span class="p">()</span> <span class="p">{</span>
          <span class="o">..</span><span class="p">.</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></table></code></div></div><ul><li>위 코드에서 <code class="language-plaintext highlighter-rouge">doSomething</code>메서드를 <code class="language-plaintext highlighter-rouge">protected</code>로 선언함으로써 인증이 끝나고 어떤 작업을 해야할 때 그 작업을 하위 클래스에서 확장하도록 할 수 있다.</ul></ul><hr /><h3 id="상태-패턴-state">상태 패턴 (State)</h3><ul><li><p>상태(State)에 따라 동일한 기능이 다르게 구현되어야 할 때 사용할 수 있다.</p><li><p>상태 패턴을 이용하지 않는다면 하나의 메서드에 상태에 따른 기능들을 if문으로 다 분기시켜줘야하기 때문에 코드가 길어짐으로써 유지보수가 어려워지게 된다.</p><li><p>상태를 인터페이스를 이용해 별도 타입으로 분리해서 각 상태 별로 알맞은 하위 타입(콘크리트 클래스)을 구현하게 된다.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre>  <span class="kd">class</span> <span class="nc">VendingMachine</span> <span class="p">{</span>
      <span class="k">private</span> <span class="kd">var</span> <span class="py">state</span> <span class="p">=</span> <span class="nc">NoCoinState</span><span class="p">()</span>
      <span class="k">fun</span> <span class="nf">insertCoin</span><span class="p">(</span><span class="n">coin</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">state</span><span class="p">.</span><span class="nf">increaseCoin</span><span class="p">(</span><span class="n">coin</span><span class="p">,</span> <span class="k">this</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="k">fun</span> <span class="nf">select</span><span class="p">(</span><span class="n">prodId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span> <span class="o">..</span><span class="p">.</span> <span class="p">}</span>
      <span class="k">fun</span> <span class="nf">changeState</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nc">State</span><span class="p">)</span> <span class="p">{</span> <span class="o">..</span><span class="p">.</span> <span class="p">}</span>
  <span class="p">}</span>
    
  <span class="kd">interface</span> <span class="nc">State</span> <span class="p">{</span>
      <span class="k">fun</span> <span class="nf">increaseCoin</span><span class="p">(</span><span class="n">coin</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">vm</span><span class="p">:</span> <span class="nc">VendingMachine</span><span class="p">)</span>
      <span class="k">fun</span> <span class="nf">select</span><span class="p">(</span><span class="n">prodId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">vm</span><span class="p">:</span> <span class="nc">VendingMachine</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="kd">class</span> <span class="nc">NoCoinState</span> <span class="p">:</span> <span class="nc">State</span> <span class="p">{</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">increaseCoin</span><span class="p">(</span><span class="n">coin</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">vm</span><span class="p">:</span> <span class="nc">VendingMachine</span><span class="p">)</span> <span class="p">{}</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">select</span><span class="p">(</span><span class="n">prodId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">vm</span><span class="p">:</span> <span class="nc">VendingMachine</span><span class="p">)</span> <span class="p">{}</span>
  <span class="p">}</span>

  <span class="kd">class</span> <span class="nc">SelectableState</span> <span class="p">:</span> <span class="nc">State</span> <span class="p">{</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">increaseCoin</span><span class="p">(</span><span class="n">coin</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">vm</span><span class="p">:</span> <span class="nc">VendingMachine</span><span class="p">)</span> <span class="p">{}</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">select</span><span class="p">(</span><span class="n">prodId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">vm</span><span class="p">:</span> <span class="nc">VendingMachine</span><span class="p">)</span> <span class="p">{}</span>
  <span class="p">}</span>
</pre></table></code></div></div><li><p>코인이 없을 때 select 호출 시 비프음을 내도록 할 수도 있고 선택 가능한 상태일 때 select 호출 시 제품을 제공하도록 구현할 수 있다.</p><li><p>상태 패턴의 장점은 새로운 상태가 추가되더라도 콘텍스트(VendingMachine)가 받는 영향은 최소화 됨으로써 상태가 많아지더라도 클래스의 개수만 증가할 뿐 코드의 복잡도는 증가하지 않아 유지 보수에 유리하다. 또한, 각 상태 별로 코드가 구현되어 있기 때문에 상태에 따른 동작들을 수정하기가 쉽다.</p></ul><h4 id="상태-변화는-누가-해야하는가">상태 변화는 누가 해야하는가?</h4><ul><li>상태 변화는 콘텍스트(VendingMachine)나 상태(NoCoinState, SelectableState 등) 둘 중 하나가 된다.<li><p>콘텍스트에서 변경할 경우 아래와 같이 구현될 수 있다.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>  <span class="kd">class</span> <span class="nc">VendingMachine</span> <span class="p">{</span>
      <span class="k">private</span> <span class="kd">var</span> <span class="py">state</span> <span class="p">=</span> <span class="nc">NoCoinState</span><span class="p">()</span>
      <span class="k">fun</span> <span class="nf">insertCoin</span><span class="p">(</span><span class="n">coin</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span> <span class="o">..</span><span class="p">.</span> <span class="p">}</span>
      <span class="k">fun</span> <span class="nf">select</span><span class="p">(</span><span class="n">prodId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span> <span class="p">{</span> 
          <span class="o">..</span><span class="p">.</span>
          <span class="k">if</span> <span class="p">(</span><span class="err">특정조건</span><span class="p">)</span> <span class="p">{</span>
              <span class="nf">changeState</span><span class="p">(</span><span class="nc">NoCoinState</span><span class="p">())</span>
          <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">fun</span> <span class="nf">changeState</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nc">State</span><span class="p">)</span> <span class="p">{</span> 
          <span class="n">state</span> <span class="p">=</span> <span class="nc">State</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></table></code></div></div><ul><li>콘텍스트에서 변경할 경우 비교적 상태 개수가 적고 상태 변경의 규칙이 거의 바뀌지 않는 경우에 유리한데, 상태 종류나 규칙이 자주 변경될 경우 상태 변경 처리에 대한 코드가 복잡해질 수 있다.</ul><li><p>상태에서 변경할 경우 아래와 같이 구현될 수 있다.</p><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>  <span class="kd">class</span> <span class="nc">NoCoinState</span> <span class="p">:</span> <span class="nc">State</span> <span class="p">{</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">increaseCoin</span><span class="p">(</span><span class="n">coin</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">vm</span><span class="p">:</span> <span class="nc">VendingMachine</span><span class="p">)</span> <span class="p">{}</span>
      <span class="k">override</span> <span class="k">fun</span> <span class="nf">select</span><span class="p">(</span><span class="n">prodId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">vm</span><span class="p">:</span> <span class="nc">VendingMachine</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">vm</span><span class="p">.</span><span class="nf">increaseCoin</span><span class="p">(</span><span class="n">coin</span><span class="p">)</span>
          <span class="n">vm</span><span class="p">.</span><span class="nf">changeState</span><span class="p">(</span><span class="nc">SelectableState</span><span class="p">())</span>
      <span class="p">}</span>
  <span class="p">}</span>
</pre></table></code></div></div><ul><li>상태에서 변경할 경우 콘텍스트(VendingMachine)에 영향을 주지 않으면서 상태나 규칙을 변경할 수 있게 된다. 그러나 상태 변경 규칙이 여러 클래스(SelectableState 등)에 분산되어 있어 구현 클래스가 많아질수록 변경 규칙을 파악하기 어려워질 수 있다.</ul><li>이처럼 상태 변화를 누가 하는가에 따라 장단점이 있기 때문에 주어진 상황에 알맞는 방식을 선택해야 한다.</ul><hr /><h3 id="파사드facade-패턴">파사드(Facade) 패턴</h3><ul><li>파사드 패턴은 <code class="language-plaintext highlighter-rouge">코드 중복</code>과 <code class="language-plaintext highlighter-rouge">직접적인 의존</code>을 해결하는데 도움을 주는 패턴이다.<li><p>예를 들어서 아래와 같은 코드가 있다고 가정해볼 때 Notebook과 Desktop은 Power, Memory, Cpu에 의존하고 있다.</p><details> <summary>패턴 적용 전</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">ModelAPower</span> <span class="p">{</span>
  <span class="k">fun</span> <span class="nf">turnOn</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
  
<span class="kd">class</span> <span class="nc">Memory</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">load</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
  
<span class="kd">class</span> <span class="nc">Cpu</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">execute</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
  
<span class="kd">class</span> <span class="nc">Notebook</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">modelAPower</span> <span class="p">=</span> <span class="nc">ModelAPower</span><span class="p">()</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">memory</span> <span class="p">=</span> <span class="nc">Memory</span><span class="p">()</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">cpu</span> <span class="p">=</span> <span class="nc">Cpu</span><span class="p">()</span>
  
    <span class="k">fun</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">modelAPower</span><span class="p">.</span><span class="nf">turnOn</span><span class="p">()</span>
        <span class="n">memory</span><span class="p">.</span><span class="nf">load</span><span class="p">()</span>
        <span class="n">cpu</span><span class="p">.</span><span class="nf">execute</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
  
<span class="kd">class</span> <span class="nc">Desktop</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">modelAPower</span> <span class="p">=</span> <span class="nc">ModelAPower</span><span class="p">()</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">memory</span> <span class="p">=</span> <span class="nc">Memory</span><span class="p">()</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">cpu</span> <span class="p">=</span> <span class="nc">Cpu</span><span class="p">()</span>
  
    <span class="k">fun</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">modelAPower</span><span class="p">.</span><span class="nf">turnOn</span><span class="p">()</span>
        <span class="n">memory</span><span class="p">.</span><span class="nf">load</span><span class="p">()</span>
        <span class="n">cpu</span><span class="p">.</span><span class="nf">execute</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details><p><br /></p><li>위 코드는 몇가지 문제가 있는데 하나씩 살펴보면 아래와 같다.<ul><li>동일한 코드가 중복된다. (turnOn, load, execute, 변수 선언)<li>실행의 순서가 power, memory, cpu에서 power ,cpu, memory로 바뀐다면 Notebook과 Desktop의 코드가 변경되어야 한다.<li>power가 ModelA에서 modelB로 바뀔 경우에도 Notebook과 Desktop의 코드가 변경되어야 한다.</ul><li>위 문제는 Notebook과 Desktop이 power, memory, cpu를 의존하고 있기 때문에 발생하는 문제인데, 파사드 패턴은 코드의 중복과 의존성을 줄여주기 위한 디자인 패턴이다.<li><p>아래는 파사드 패턴을 적용했을 때의 결과이다.</p><details> <summary>패턴 적용 후</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="nn">facade_pattern</span>
  
<span class="kd">class</span> <span class="nc">ModelAPower</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">turnOn</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
  
<span class="kd">class</span> <span class="nc">Memory</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">load</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
  
<span class="kd">class</span> <span class="nc">Cpu</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">execute</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
  
<span class="kd">class</span> <span class="nc">Computer</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">modelAPower</span> <span class="p">=</span> <span class="nc">ModelAPower</span><span class="p">()</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">memory</span> <span class="p">=</span> <span class="nc">Memory</span><span class="p">()</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">cpu</span> <span class="p">=</span> <span class="nc">Cpu</span><span class="p">()</span>
  
    <span class="k">fun</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">modelAPower</span><span class="p">.</span><span class="nf">turnOn</span><span class="p">()</span>
        <span class="n">memory</span><span class="p">.</span><span class="nf">load</span><span class="p">()</span>
        <span class="n">cpu</span><span class="p">.</span><span class="nf">execute</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
  
<span class="kd">class</span> <span class="nc">Notebook</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">computer</span> <span class="p">=</span> <span class="nc">Computer</span><span class="p">()</span>
    <span class="k">fun</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">computer</span><span class="p">.</span><span class="nf">start</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
  
<span class="kd">class</span> <span class="nc">Desktop</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">computer</span> <span class="p">=</span> <span class="nc">Computer</span><span class="p">()</span>
    <span class="k">fun</span> <span class="nf">start</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">computer</span><span class="p">.</span><span class="nf">start</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details><p><br /></p><ul><li>파사드 패턴을 적용함으로써 클라이언트 (Notebook, Desktop)와 서브 시스템 (Power, Cpu, Memory)간의 직접적인 의존을 제거했으며 코드의 중복 또한 줄어들게 되었다.</ul></ul><h4 id="장점과-특징">장점과 특징</h4><ul><li>파사드를 정의함으로써 클라이언트 변경 없이 서브 시스템을 변경할 수 있다는 장점이 있다.<li>단지 여러 클라이언트의 중복된 코드들을 파사드로 추상화하여 사용했을 뿐, 서브 시스템에 대한 직접적인 접근을 막는 것은 아니다.<ul><li>필요한 경우 클라이언트에서 서브 시스템을 바로 사용할 수 있다.</ul><li>퍼사드는 공통적인 작업에 대해 간편한 메소드들을 제공해준다.<li>좋게 작성되지 않은 API의 집합을 하나의 좋게 작성된 API로 감싸준다.<li>시스템의 복잡성을 숨기고 클라이언트에 더 간단한 인터페이스를 제공한다.<ul><li>예를 들어서 적용 전 코드에서 Notebook과 Desktop의 start 메소드가 훨씬 더 복잡한 로직을 가지고 있을 경우 구현 도중에 코드를 누락하거나 잘못 작성할 수 있는 가능성이 높다.<li>따라서 파사드 패턴을 적용함으로써 클라이언트는 어떻게 구현해야 되는지에 대한것은 알 필요가 없으므로 더 간단하게 코드를 사용할 수 있게 된다.</ul><li>인터페이스와 같이 사용하여 서브 시스템의 교체를 쉽게 할 수도 있다.</ul><h4 id="인터페이스와-비교">인터페이스와 비교</h4><ul><li>인터페이스는 공통된 메소드들을 정의해 내부 코드를 감춤으로써 확장과 변경에 초점이 맞춰져있지만 파사드 패턴은 내부 코드를 감추는 것은 동일하지만 단순히 공통적으로 사용되는 클래스와 메소드들을 하나의 파사드 클래스 내부 메소드 안에서 묶어주는 역할을 한다.<li>파사드 패턴은 사용하는 클래스와 의존 관계에 있다.</ul><h4 id="어댑터-패턴과-비교">어댑터 패턴과 비교</h4><ul><li>어댑터 패턴은 단순히 호환되지 않는 두 개의 인터페이스를 연결해주는 패턴이다.<ul><li>즉, DVI to HDMI 케이블같은 것을 의미한다.</ul><li>그러나 파사드 패턴은 기가지니처럼 어떤 행동 하나에 티비, 전등, 가스 등을 제어하는 것과 동일하게 이해할 수 있다.<li><a href="https://stackoverflow.com/questions/2961307/what-is-the-difference-between-the-facade-and-adapter-pattern">참고</a></ul><hr /><h3 id="추상-팩토리-패턴">추상 팩토리 패턴</h3><ul><li>어떤 조건별로 다른 객체들을 생성해야할 때 추상 팩토리 패턴을 사용할 수 있다.<li>객체의 생성 책임을 분리한다.</ul><details> <summary>그릴 객체 추상/콘크리트 클래스</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="k">abstract</span> <span class="kd">class</span> <span class="nc">DrawObject</span> <span class="p">{</span>
    <span class="k">abstract</span> <span class="kd">var</span> <span class="py">point</span><span class="p">:</span> <span class="nc">Point</span>
    <span class="k">abstract</span> <span class="kd">var</span> <span class="py">size</span><span class="p">:</span> <span class="nc">Size</span>

    <span class="k">abstract</span> <span class="k">fun</span> <span class="nf">draw</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Image</span><span class="p">(</span><span class="k">override</span> <span class="kd">var</span> <span class="py">point</span><span class="p">:</span> <span class="nc">Point</span><span class="p">,</span> <span class="k">override</span> <span class="kd">var</span> <span class="py">size</span><span class="p">:</span> <span class="nc">Size</span><span class="p">)</span> <span class="p">:</span> <span class="nc">DrawObject</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">draw</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"Image -&gt; point: ${point}, size: $size"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Rectangle</span><span class="p">(</span><span class="k">override</span> <span class="kd">var</span> <span class="py">point</span><span class="p">:</span> <span class="nc">Point</span><span class="p">,</span> <span class="k">override</span> <span class="kd">var</span> <span class="py">size</span><span class="p">:</span> <span class="nc">Size</span><span class="p">)</span> <span class="p">:</span> <span class="nc">DrawObject</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">draw</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"Rectangle -&gt; point: ${point}, size: $size"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details> <details> <summary>그릴 객체 팩토리 클래스 구현</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="k">abstract</span> <span class="kd">class</span> <span class="nc">DrawObjectFactory</span> <span class="p">{</span>

    <span class="k">companion</span> <span class="k">object</span> <span class="p">{</span>
        <span class="k">fun</span> <span class="nf">getFactory</span><span class="p">(</span><span class="n">index</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">DrawObjectFactory</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">when</span> <span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="p">{</span>
                <span class="mi">1</span> <span class="p">-&gt;</span> <span class="nc">RectangleFactory</span><span class="p">()</span>
                <span class="k">else</span> <span class="p">-&gt;</span> <span class="nc">ImageFactory</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">abstract</span> <span class="k">fun</span> <span class="nf">createDrawObject</span><span class="p">(</span><span class="n">point</span><span class="p">:</span> <span class="nc">Point</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nc">Size</span><span class="p">):</span> <span class="nc">DrawObject</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details> <details> <summary>사각형, 이미지 팩토리 클래스 구현</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">ImageFactory</span> <span class="p">:</span> <span class="nc">DrawObjectFactory</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">createDrawObject</span><span class="p">(</span><span class="n">point</span><span class="p">:</span> <span class="nc">Point</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nc">Size</span><span class="p">):</span> <span class="nc">DrawObject</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nc">Image</span><span class="p">(</span><span class="nc">Point</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span> <span class="nc">Size</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span> <span class="mi">44</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">RectangleFactory</span> <span class="p">:</span> <span class="nc">DrawObjectFactory</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">createDrawObject</span><span class="p">(</span><span class="n">point</span><span class="p">:</span> <span class="nc">Point</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nc">Size</span><span class="p">):</span> <span class="nc">DrawObject</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nc">Rectangle</span><span class="p">(</span><span class="nc">Point</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="nc">Size</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details> <details> <summary>메인 구현</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 사각형</span>
    <span class="kd">var</span> <span class="py">drawObjectFactory</span> <span class="p">=</span> <span class="nc">DrawObjectFactory</span><span class="p">.</span><span class="nf">getFactory</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="kd">var</span> <span class="py">drawObject</span> <span class="p">=</span> <span class="n">drawObjectFactory</span><span class="p">.</span><span class="nf">createDrawObject</span><span class="p">(</span><span class="nc">Point</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="nc">Size</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>
    <span class="n">drawObject</span><span class="p">.</span><span class="nf">draw</span><span class="p">()</span>

    <span class="c1">// 이미지</span>
    <span class="n">drawObjectFactory</span> <span class="p">=</span> <span class="nc">DrawObjectFactory</span><span class="p">.</span><span class="nf">getFactory</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">drawObject</span> <span class="p">=</span> <span class="n">drawObjectFactory</span><span class="p">.</span><span class="nf">createDrawObject</span><span class="p">(</span><span class="nc">Point</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span> <span class="nc">Size</span><span class="p">(</span><span class="mi">33</span><span class="p">,</span> <span class="mi">44</span><span class="p">))</span>
    <span class="n">drawObject</span><span class="p">.</span><span class="nf">draw</span><span class="p">()</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details> <details> <summary>결과</summary><div><div class="language-text highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>Rectangle -&gt; point: Point(x=10, y=20), size: Size(width=30, height=40)
Image -&gt; point: Point(x=11, y=22), size: Size(width=33, height=44)
</pre></table></code></div></div></div></details><p><img data-proofer-ignore data-src="https://user-images.githubusercontent.com/29175138/159114789-ff10cf26-845f-4164-9c7e-aa134d982897.png" alt="팩토리" /></p><h3 id="장점">장점</h3><ul><li>클라이언트 변경 없이 사용할 객체를 동적으로 교체할 수 있다.<li>객체의 생성을 분리함으로써 메인에서는 생성에 대한 책임없이 사용하기만 하면 된다.</ul><hr /><h2 id="컴포지트-패턴">컴포지트 패턴</h2><ul><li>클라이언트가 복합 객체(group)나 단일 객체를 동일하게 취급하는 것으로 전체-부분을 구성하는 클래스가 동일 인터페이스를 구현하도록 하는 디자인 패턴이다.<li>두꺼비집으로 생각하면 쉬울 것 같다.</ul><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre><td class="rouge-code"><pre><span class="kd">interface</span> <span class="nc">Device</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">turnOn</span><span class="p">()</span>
    <span class="k">fun</span> <span class="nf">turnOff</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Computer</span> <span class="p">:</span> <span class="nc">Device</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">turnOn</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">turnOff</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Light</span> <span class="p">:</span> <span class="nc">Device</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">turnOn</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">turnOff</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">InternetCafe</span> <span class="p">:</span> <span class="nc">Device</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">deviceList</span> <span class="p">=</span> <span class="n">mutableListOf</span><span class="p">&lt;</span><span class="nc">Device</span><span class="p">&gt;()</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">turnOn</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">deviceList</span><span class="p">.</span><span class="nf">forEach</span> <span class="p">{</span>
            <span class="n">it</span><span class="p">.</span><span class="nf">turnOn</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">turnOff</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">deviceList</span><span class="p">.</span><span class="nf">forEach</span> <span class="p">{</span>
            <span class="n">it</span><span class="p">.</span><span class="nf">turnOff</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">fun</span> <span class="nf">addDevice</span><span class="p">(</span><span class="n">device</span><span class="p">:</span> <span class="nc">Device</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">deviceList</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">internetCafe</span> <span class="p">=</span> <span class="nc">InternetCafe</span><span class="p">()</span>
    <span class="n">internetCafe</span><span class="p">.</span><span class="nf">addDevice</span><span class="p">(</span><span class="nc">Computer</span><span class="p">())</span>
    <span class="n">internetCafe</span><span class="p">.</span><span class="nf">addDevice</span><span class="p">(</span><span class="nc">Computer</span><span class="p">())</span>

    <span class="n">internetCafe</span><span class="p">.</span><span class="nf">addDevice</span><span class="p">(</span><span class="nc">Light</span><span class="p">())</span>
    <span class="n">internetCafe</span><span class="p">.</span><span class="nf">addDevice</span><span class="p">(</span><span class="nc">Light</span><span class="p">())</span>

    <span class="n">internetCafe</span><span class="p">.</span><span class="nf">turnOff</span><span class="p">()</span>
<span class="p">}</span>
</pre></table></code></div></div><h4 id="장점-1">장점</h4><ul><li>클라이언트가 컴포지트(그룹)과 컴포넌트(단일 객체)를 구분하지 않고 컴포넌트 인터페이스만으로 프로그래밍 할 수 있다.</ul><hr /></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/design-pattern/'>Design Pattern</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/design-pattern/" class="post-tag no-text-decoration" >Design Pattern</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=디자인 패턴 - 개발자로 살아남기&url=https://banjjak2.github.io//posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=디자인 패턴 - 개발자로 살아남기&u=https://banjjak2.github.io//posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=디자인 패턴 - 개발자로 살아남기&url=https://banjjak2.github.io//posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/7576-%ED%86%A0%EB%A7%88%ED%86%A0/">[BOJ 7576] 토마토</a><li><a href="/posts/2178-%EB%AF%B8%EB%A1%9C-%ED%83%90%EC%83%89/">[BOJ 2178] 미로 탐색</a><li><a href="/posts/Generics/">Generics</a><li><a href="/posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/">디자인 패턴</a><li><a href="/posts/%EB%B0%B1%EC%A4%80-%EB%AC%B8%EC%A0%9C%ED%92%80%EC%9D%B4-%EB%AA%A9%EB%A1%9D/">백준(BOJ) 문제풀이 목록</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/boj/">BOJ</a> <a class="post-tag" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a> <a class="post-tag" href="/tags/android/">Android</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/kotlin/">Kotlin</a> <a class="post-tag" href="/tags/coroutine/">Coroutine</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/cs/">CS</a> <a class="post-tag" href="/tags/%EB%AC%B8%EC%A0%9C%ED%95%B4%EA%B2%B0/">문제해결</a> <a class="post-tag" href="/tags/10026/">10026</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/MVC-%ED%8C%A8%ED%84%B4/"><div class="card-body"> <span class="timeago small" >Mar 11<i class="unloaded">2022-03-11T15:18:16+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>MVC 패턴</h3><div class="text-muted small"><p> MVC 패턴 이 글은 안드로이드를 기반으로 생각하고 내용을 정리한 글이다. MVC와 MVP 패턴을 이해하려면 먼저 왜 이러한 아키텍처 패턴을 써야하는지 알아야 한다. 아키텍처 패턴 위키에 따르면 아키텍처 패턴을 아래와 같이 정의하고 있다. 1 아키텍처 패턴(architectural pattern)은 주어진 문맥...</p></div></div></a></div><div class="card"> <a href="/posts/MVP-%ED%8C%A8%ED%84%B4/"><div class="card-body"> <span class="timeago small" >Mar 11<i class="unloaded">2022-03-11T23:59:47+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>MVP 패턴</h3><div class="text-muted small"><p> 이 글은 안드로이드를 기반으로 생각하고 내용을 정리한 글이다. MVP 패턴 MVP 패턴은 Model, View, Presenter의 앞자리를 딴 MVC 패턴에서 파생된 패턴으로, 컨트롤러 대신 프레젠터가 존재한다. MVC 패턴에서는 뷰/컨트롤러에서 모델에 접근해 데이터를 가져와 어떻게 표현할지 정했지만, MVP ...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%98%B5%EC%A0%80%EB%B2%84-%ED%8C%A8%ED%84%B4(Observer-pattern)/"><div class="card-body"> <span class="timeago small" >Mar 12<i class="unloaded">2022-03-12T14:53:45+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>옵저버 패턴 (Observer Pattern)</h3><div class="text-muted small"><p> 옵저버 패턴 (Observer Pattern) 옵저버 패턴은 관찰자(Observer)들이 어떤 객체(Subject)를 구독함으로써 객체(Subject)에 변화가 발생했을 때 관찰자(Observer)들에게 상태 변화나 이벤트가 발생했음을 알리는 디자인 패턴이다. 관찰을 받을 대상(Subject)에는 관찰자(O...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-UI-%EB%A0%88%EC%9D%B4%EC%96%B4/" class="btn btn-outline-primary" prompt="Older"><p>안드로이드 UI 레이어</p></a> <a href="/posts/MVC-%ED%8C%A8%ED%84%B4/" class="btn btn-outline-primary" prompt="Newer"><p>MVC 패턴</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://banjjak2.github.io//posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/'; this.page.identifier = '/posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://https-banjjak2-github-io.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (modeToggle !== null) { modeToggle.addEventListener('click', reloadDisqus); window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/banjjak2">Seongwook Jang</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/boj/">BOJ</a> <a class="post-tag" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a> <a class="post-tag" href="/tags/android/">Android</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/kotlin/">Kotlin</a> <a class="post-tag" href="/tags/coroutine/">Coroutine</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/cs/">CS</a> <a class="post-tag" href="/tags/%EB%AC%B8%EC%A0%9C%ED%95%B4%EA%B2%B0/">문제해결</a> <a class="post-tag" href="/tags/10026/">10026</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
