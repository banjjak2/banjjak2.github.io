<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="MVP 패턴" /><meta property="og:locale" content="en" /><meta name="description" content="이 글은 안드로이드를 기반으로 생각하고 내용을 정리한 글이다." /><meta property="og:description" content="이 글은 안드로이드를 기반으로 생각하고 내용을 정리한 글이다." /><link rel="canonical" href="https://banjjak2.github.io//posts/MVP-%ED%8C%A8%ED%84%B4/" /><meta property="og:url" content="https://banjjak2.github.io//posts/MVP-%ED%8C%A8%ED%84%B4/" /><meta property="og:site_name" content="개발자로 살아남기" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-11T23:59:47+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="MVP 패턴" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"이 글은 안드로이드를 기반으로 생각하고 내용을 정리한 글이다.","url":"https://banjjak2.github.io//posts/MVP-%ED%8C%A8%ED%84%B4/","@type":"BlogPosting","headline":"MVP 패턴","dateModified":"2022-03-11T23:59:47+09:00","datePublished":"2022-03-11T23:59:47+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://banjjak2.github.io//posts/MVP-%ED%8C%A8%ED%84%B4/"},"@context":"https://schema.org"}</script><title>MVP 패턴 | 개발자로 살아남기</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="개발자로 살아남기"><meta name="application-name" content="개발자로 살아남기"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> </a></div><div class="site-title mt-3"> <a href="/">개발자로 살아남기</a></div><div class="site-subtitle font-italic">공부하자!!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/banjjak2" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['interr0bang','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>MVP 패턴</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>MVP 패턴</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Seongwook Jang </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Mar 11, 2022, 11:59 PM +0900" >Mar 11<i class="unloaded">2022-03-11T23:59:47+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1737 words">9 min read</span></div></div><div class="post-content"><h2 id="이-글은-안드로이드를-기반으로-생각하고-내용을-정리한-글이다">이 글은 안드로이드를 기반으로 생각하고 내용을 정리한 글이다.</h2><hr /><h1 id="mvp-패턴">MVP 패턴</h1><ul><li><p>MVP 패턴은 <strong>Model, View, Presenter</strong>의 앞자리를 딴 MVC 패턴에서 파생된 패턴으로, 컨트롤러 대신 프레젠터가 존재한다.</p><li><p>MVC 패턴에서는 뷰/컨트롤러에서 모델에 접근해 데이터를 가져와 어떻게 표현할지 정했지만, MVP 패턴에서는 아래와 같이 책임을 분리해서 사용한다.</p><ol><li><p><strong>Model</strong> : UI와 독립적인 데이터 구조로써 데이터, 비즈니스 로직, 규칙들을 직접적으로 다룬다. 즉, 프레젠터에서 어떤 값을 요청했을 때 그 값에 맞는 정보를 반환하거나 데이터를 저장하는 등의 역할을 한다.</p><li><p><strong>View</strong> : 단순히 프레젠터에서 받은 값을 표현해주고 사용자의 액션 (버튼 클릭 등)에만 관여한다.</p><li><p><strong>Presenter</strong> : 프레젠터는 모델과 뷰를 알고 있기 때문에 특정 메소드를 호출하여 UI에 표시하는데 필요한 작업을 진행한다. 즉, 뷰에서 전달받은 입력값이 올바르다면 모델에서 입력값에 맞는 데이터를 받아 뷰의 정보를 표현해주는 메소드에 정상값을 전달하고, 그렇지 않다면 뷰에서 에러를 처리하는 메소드에 에러값을 전달할 수 있다.</p></ol><li>MVP 패턴은 뷰에서 모델이 어떤 값을 가지고 있는지는 알 필요가 없으며, 뷰에는 여러 개의 프레젠터가 존재할 수 있고, 프레젠터에도 여러개의 뷰가 존재할 수 있다.<ul><li>하나의 뷰에서 여러 모델을 사용해서 화면에 표현하고자 할 때 (뷰에 여러개의 프레젠터가 존재할 수 있다.)<li>다수의 뷰에서 하나의 모델을 이용해 각 화면에 표현하고자 할 때 (프레젠터에 여러개의 뷰가 존재할 수 있다.)</ul><li><p>MVP의 구조는 아래와 같다.</p><p><img data-proofer-ignore data-src="https://user-images.githubusercontent.com/29175138/157821266-3399d322-b0e2-4be0-8c83-57ca8118b431.png" alt="mvp-300x227-1" /></p><ol><li>유저가 뷰에서 버튼 클릭 이벤트를 발생해 프레젠터에 값을 전달한다.<li>프레젠터는 입력값을 모델에 전달한다. (저장, 삭제, 수정 등이 될 수 있음)<li>모델은 입력값을 확인하고 데이터를 업데이트하거나 반환한다.<li>프레젠터는 모델에서 받은 값을 이용해 뷰에게 전달한다.</ol><li>뷰와 프레젠터는 인터페이스로 통신하며, 프레젠터와 모델도 인터페이스로 통신을 한다.</ul><h2 id="장점">장점</h2><ul><li>뷰와 모델이 서로 의존성이 없기 때문에 뷰가 변경되더라도 같은 값을 사용한다면 모델을 변경하지 않아도 된다.<li>모델에 기능이 추가되더라도 뷰에서 그 기능에 해당하는 UI만 만들어 표현해주면 된다.<li>서로 분리되어 있기 때문에 단위 테스트(Unit Test)가 쉬워진다.<ul><li>JUnit, Mockito 등을 이용</ul></ul><h2 id="단점">단점</h2><ul><li>프레젠터는 뷰로부터 데이터를 받아 모델의 값을 업데이트하거나 표현해주기 위한 코드로 구현되는데, 뷰에서 표현하고자 하는 값이 많아질수록 프레젠터는 커질 수밖에 없다.</ul><h2 id="예시">예시</h2><ul><li>클래스명이나 파일명은 임의로 작성했다. 실제 앱에서는 더 명확한 의미의 이름들이 필요할 것 같다.<li>액티비티와 프레젠터에 인터페이스를 상속받고 서로 통신할 수 있도록 구현했다.<li>프레젠터에는 뷰와 모델을 생성자로 받는다.</ul><details> <summary>메인 레이아웃</summary><div><div class="language-xml highlighter-rouge"><div class="code-header"> <span text-data=" XML "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
</pre><td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;androidx.constraintlayout.widget.ConstraintLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_margin=</span><span class="s">"10dp"</span>
    <span class="na">tools:context=</span><span class="s">".MainActivity"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;EditText</span>
        <span class="na">android:id=</span><span class="s">"@+id/edit_username"</span>
        <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_marginEnd=</span><span class="s">"4dp"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toStartOf=</span><span class="s">"@+id/btn_search"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;Button</span>
        <span class="na">android:id=</span><span class="s">"@+id/btn_search"</span>
        <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:text=</span><span class="s">"검색"</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_username_string"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:text=</span><span class="s">"이름 : "</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintHorizontal_bias=</span><span class="s">"0.415"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/edit_username"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_username"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#A2A2A2"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintHorizontal_bias=</span><span class="s">"0.104"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@+id/text_username_string"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/edit_username"</span>
        <span class="na">tools:text=</span><span class="s">"AAAA"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_age_string"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:text=</span><span class="s">"나이 : "</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintHorizontal_bias=</span><span class="s">"0.415"</span>
        <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_username_string"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:id=</span><span class="s">"@+id/text_age"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:background=</span><span class="s">"#A2A2A2"</span>
        <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
        <span class="na">app:layout_constraintHorizontal_bias=</span><span class="s">"0.104"</span>
        <span class="na">app:layout_constraintStart_toEndOf=</span><span class="s">"@+id/text_age_string"</span>
        <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@+id/text_username_string"</span>
        <span class="na">tools:text=</span><span class="s">"AAAA"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span>
</pre></table></code></div></div></div></details> <details> <summary>메인 인터페이스</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="nn">com.example.mvp</span>

<span class="kd">interface</span> <span class="nc">MainContract</span> <span class="p">{</span>

    <span class="kd">interface</span> <span class="nc">View</span> <span class="p">{</span>
        <span class="k">fun</span> <span class="nf">showUser</span><span class="p">(</span><span class="n">userInfo</span><span class="p">:</span> <span class="nc">UserInfo</span><span class="p">)</span>

        <span class="k">fun</span> <span class="nf">error</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">interface</span> <span class="nc">Presenter</span> <span class="p">{</span>
        <span class="k">fun</span> <span class="nf">addUser</span><span class="p">(</span><span class="n">userInfo</span><span class="p">:</span> <span class="nc">UserInfo</span><span class="p">)</span>

        <span class="k">fun</span> <span class="nf">findUser</span><span class="p">(</span><span class="n">username</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details> <details> <summary>프레젠터와 모델 사이의 인터페이스</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="nn">com.example.mvp</span>

<span class="kd">interface</span> <span class="nc">UserRepository</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">addUser</span><span class="p">(</span><span class="n">userInfo</span><span class="p">:</span> <span class="nc">UserInfo</span><span class="p">)</span>

    <span class="k">fun</span> <span class="nf">findUser</span><span class="p">(</span><span class="n">username</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">UserInfo</span><span class="p">?</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details> <details> <summary>유저 정보와 관련된 데이터 클래스</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="nn">com.example.mvp</span>

<span class="kd">data class</span> <span class="nc">UserInfo</span><span class="p">(</span>
    <span class="kd">val</span> <span class="py">username</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span>
    <span class="kd">val</span> <span class="py">age</span><span class="p">:</span> <span class="nc">Int</span>
<span class="p">)</span>
</pre></table></code></div></div></div></details> <details> <summary>유저 리스트 모델</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="nn">com.example.mvp</span>

<span class="kd">class</span> <span class="nc">UserListModel</span> <span class="p">:</span> <span class="nc">UserRepository</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">userList</span> <span class="p">=</span> <span class="n">mutableListOf</span><span class="p">&lt;</span><span class="nc">UserInfo</span><span class="p">&gt;()</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">addUser</span><span class="p">(</span><span class="n">userInfo</span><span class="p">:</span> <span class="nc">UserInfo</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">userList</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">userInfo</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">findUser</span><span class="p">(</span><span class="n">username</span><span class="p">:</span> <span class="nc">String</span><span class="p">):</span> <span class="nc">UserInfo</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">userList</span><span class="p">.</span><span class="nf">find</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">username</span> <span class="p">==</span> <span class="n">username</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details> <details> <summary>프레젠터</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="nn">com.example.mvp</span>

<span class="kd">class</span> <span class="nc">MainPresenter</span><span class="p">(</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">model</span><span class="p">:</span> <span class="nc">UserRepository</span><span class="p">,</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">view</span><span class="p">:</span> <span class="nc">MainContract</span><span class="p">.</span><span class="nc">View</span>
<span class="p">)</span> <span class="p">:</span> <span class="nc">MainContract</span><span class="p">.</span><span class="nc">Presenter</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">addUser</span><span class="p">(</span><span class="n">userInfo</span><span class="p">:</span> <span class="nc">UserInfo</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">model</span><span class="p">.</span><span class="nf">addUser</span><span class="p">(</span><span class="n">userInfo</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">findUser</span><span class="p">(</span><span class="n">username</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">userInfo</span> <span class="p">=</span> <span class="n">model</span><span class="p">.</span><span class="nf">findUser</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">userInfo</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">view</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="s">"유저를 찾을 수 없습니다."</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">view</span><span class="p">.</span><span class="nf">showUser</span><span class="p">(</span><span class="n">userInfo</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details> <details> <summary>메인 액티비티</summary><div><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span text-data=" Kotlin "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre><td class="rouge-code"><pre><span class="k">package</span> <span class="nn">com.example.mvp</span>

<span class="k">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span>
<span class="k">import</span> <span class="nn">android.os.Bundle</span>
<span class="k">import</span> <span class="nn">android.widget.Button</span>
<span class="k">import</span> <span class="nn">android.widget.EditText</span>
<span class="k">import</span> <span class="nn">android.widget.TextView</span>
<span class="k">import</span> <span class="nn">android.widget.Toast</span>

<span class="kd">class</span> <span class="nc">MainActivity</span> <span class="p">:</span> <span class="nc">AppCompatActivity</span><span class="p">(),</span> <span class="nc">MainContract</span><span class="p">.</span><span class="nc">View</span> <span class="p">{</span>

    <span class="k">private</span> <span class="k">lateinit</span> <span class="kd">var</span> <span class="py">editUserName</span><span class="p">:</span> <span class="nc">EditText</span>
    <span class="k">private</span> <span class="k">lateinit</span> <span class="kd">var</span> <span class="py">btnSearch</span><span class="p">:</span> <span class="nc">Button</span>
    <span class="k">private</span> <span class="k">lateinit</span> <span class="kd">var</span> <span class="py">textUsername</span><span class="p">:</span> <span class="nc">TextView</span>
    <span class="k">private</span> <span class="k">lateinit</span> <span class="kd">var</span> <span class="py">textAge</span><span class="p">:</span> <span class="nc">TextView</span>
    <span class="k">private</span> <span class="k">lateinit</span> <span class="kd">var</span> <span class="py">presenter</span><span class="p">:</span> <span class="nc">MainContract</span><span class="p">.</span><span class="nc">Presenter</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span> <span class="nc">Bundle</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">.</span><span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span>
        <span class="nf">setContentView</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">activity_main</span><span class="p">)</span>

        <span class="n">presenter</span> <span class="p">=</span> <span class="nc">MainPresenter</span><span class="p">(</span><span class="nc">UserListModel</span><span class="p">(),</span> <span class="k">this</span><span class="p">)</span>
        <span class="n">presenter</span><span class="p">.</span><span class="nf">addUser</span><span class="p">(</span><span class="nc">UserInfo</span><span class="p">(</span><span class="s">"AAAA"</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
        <span class="n">presenter</span><span class="p">.</span><span class="nf">addUser</span><span class="p">(</span><span class="nc">UserInfo</span><span class="p">(</span><span class="s">"BBBB"</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
        <span class="n">presenter</span><span class="p">.</span><span class="nf">addUser</span><span class="p">(</span><span class="nc">UserInfo</span><span class="p">(</span><span class="s">"CCCC"</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
        <span class="n">presenter</span><span class="p">.</span><span class="nf">addUser</span><span class="p">(</span><span class="nc">UserInfo</span><span class="p">(</span><span class="s">"DDDD"</span><span class="p">,</span> <span class="mi">40</span><span class="p">))</span>

        <span class="n">editUserName</span> <span class="p">=</span> <span class="nf">findViewById</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">edit_username</span><span class="p">)</span>
        <span class="n">btnSearch</span> <span class="p">=</span> <span class="nf">findViewById</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">btn_search</span><span class="p">)</span>
        <span class="n">textUsername</span> <span class="p">=</span> <span class="nf">findViewById</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">text_username</span><span class="p">)</span>
        <span class="n">textAge</span> <span class="p">=</span> <span class="nf">findViewById</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">text_age</span><span class="p">)</span>

        <span class="n">btnSearch</span><span class="p">.</span><span class="nf">setOnClickListener</span> <span class="p">{</span>
            <span class="n">presenter</span><span class="p">.</span><span class="nf">findUser</span><span class="p">(</span><span class="n">editUserName</span><span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="nf">toString</span><span class="p">())</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">showUser</span><span class="p">(</span><span class="n">userInfo</span><span class="p">:</span> <span class="nc">UserInfo</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">textUsername</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">userInfo</span><span class="p">.</span><span class="n">username</span>
        <span class="n">textAge</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="n">userInfo</span><span class="p">.</span><span class="n">age</span><span class="p">.</span><span class="nf">toString</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">error</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="nc">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="nc">Toast</span><span class="p">.</span><span class="nf">makeText</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="nc">Toast</span><span class="p">.</span><span class="nc">LENGTH_SHORT</span><span class="p">).</span><span class="nf">show</span><span class="p">()</span>
        <span class="n">textUsername</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="s">"알 수 없음"</span>
        <span class="n">textAge</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="s">"알 수 없음"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div></div></details><ul><li>위 코드는 아래와 같은 구조로 작성되어 있다.<ol><li>메인 액티비티(뷰)에서는 프레젠터로 값을 요청하고 프레젠터는 값을 받아 모델에 전달한다.<li>모델에서는 해당 값을 토대로 정보를 프레젠터로 반환하거나 추가한다.<li>프레젠터는 모델에서 받은 값을 이용해 뷰의 인터페이스를 통해 전달한다.<li>뷰는 프레젠터에서 받은 값을 이용해 화면에 표현한다.</ol></ul><hr /><ul><li><p><strong>참고</strong></p><ul><li>https://en.wikipedia.org/wiki/Model-view-presenter<li>https://ko.wikipedia.org/wiki/모델-뷰-프리젠터<li>https://www.baeldung.com/mvc-vs-mvp-pattern</ul></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/design-pattern/'>Design Pattern</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/design-pattern/" class="post-tag no-text-decoration" >Design Pattern</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=MVP 패턴 - 개발자로 살아남기&url=https://banjjak2.github.io//posts/MVP-%ED%8C%A8%ED%84%B4/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=MVP 패턴 - 개발자로 살아남기&u=https://banjjak2.github.io//posts/MVP-%ED%8C%A8%ED%84%B4/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=MVP 패턴 - 개발자로 살아남기&url=https://banjjak2.github.io//posts/MVP-%ED%8C%A8%ED%84%B4/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/7576-%ED%86%A0%EB%A7%88%ED%86%A0/">[BOJ 7576] 토마토</a><li><a href="/posts/2178-%EB%AF%B8%EB%A1%9C-%ED%83%90%EC%83%89/">[BOJ 2178] 미로 탐색</a><li><a href="/posts/Generics/">Generics</a><li><a href="/posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/">디자인 패턴</a><li><a href="/posts/%EB%B0%B1%EC%A4%80-%EB%AC%B8%EC%A0%9C%ED%92%80%EC%9D%B4-%EB%AA%A9%EB%A1%9D/">백준(BOJ) 문제풀이 목록</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/boj/">BOJ</a> <a class="post-tag" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a> <a class="post-tag" href="/tags/android/">Android</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/kotlin/">Kotlin</a> <a class="post-tag" href="/tags/coroutine/">Coroutine</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/cs/">CS</a> <a class="post-tag" href="/tags/%EB%AC%B8%EC%A0%9C%ED%95%B4%EA%B2%B0/">문제해결</a> <a class="post-tag" href="/tags/10026/">10026</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4/"><div class="card-body"> <span class="timeago small" >Mar 5<i class="unloaded">2022-03-05T02:03:05+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>디자인 패턴</h3><div class="text-muted small"><p> 작성중… 마지막 업데이트 : 2022-03-19 18:48:01 +0900 주요 디자인 패턴 디자인 패턴이란 객체 지향 설계는 변화에 유연하게 대응하기 위해 특정 상황에 맞는 패턴을 이용하게 되는데 이를 디자인 패턴이라고 한다. 여기서 특정 상황이란 클래스, 객체의 구성, 객체 간 메시지 흐름에서 알맞는 설계를 하는 것이다. ...</p></div></div></a></div><div class="card"> <a href="/posts/MVC-%ED%8C%A8%ED%84%B4/"><div class="card-body"> <span class="timeago small" >Mar 11<i class="unloaded">2022-03-11T15:18:16+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>MVC 패턴</h3><div class="text-muted small"><p> MVC 패턴 이 글은 안드로이드를 기반으로 생각하고 내용을 정리한 글이다. MVC와 MVP 패턴을 이해하려면 먼저 왜 이러한 아키텍처 패턴을 써야하는지 알아야 한다. 아키텍처 패턴 위키에 따르면 아키텍처 패턴을 아래와 같이 정의하고 있다. 아키텍처 패턴(architectural pattern)은 주어진 문맥 안...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%98%B5%EC%A0%80%EB%B2%84-%ED%8C%A8%ED%84%B4(Observer-pattern)/"><div class="card-body"> <span class="timeago small" >Mar 12<i class="unloaded">2022-03-12T14:53:45+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>옵저버 패턴 (Observer Pattern)</h3><div class="text-muted small"><p> 옵저버 패턴 (Observer Pattern) 옵저버 패턴은 관찰자(Observer)들이 어떤 객체(Subject)를 구독함으로써 객체(Subject)에 변화가 발생했을 때 관찰자(Observer)들에게 상태 변화나 이벤트가 발생했음을 알리는 디자인 패턴이다. 관찰을 받을 대상(Subject)에는 관찰자(O...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/MVC-%ED%8C%A8%ED%84%B4/" class="btn btn-outline-primary" prompt="Older"><p>MVC 패턴</p></a> <a href="/posts/%EC%98%B5%EC%A0%80%EB%B2%84-%ED%8C%A8%ED%84%B4(Observer-pattern)/" class="btn btn-outline-primary" prompt="Newer"><p>옵저버 패턴 (Observer Pattern)</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://banjjak2.github.io//posts/MVP-%ED%8C%A8%ED%84%B4/'; this.page.identifier = '/posts/MVP-%ED%8C%A8%ED%84%B4/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://https-banjjak2-github-io.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (modeToggle !== null) { modeToggle.addEventListener('click', reloadDisqus); window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/banjjak2">Seongwook Jang</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/boj/">BOJ</a> <a class="post-tag" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a> <a class="post-tag" href="/tags/android/">Android</a> <a class="post-tag" href="/tags/programmers/">Programmers</a> <a class="post-tag" href="/tags/kotlin/">Kotlin</a> <a class="post-tag" href="/tags/coroutine/">Coroutine</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/cs/">CS</a> <a class="post-tag" href="/tags/%EB%AC%B8%EC%A0%9C%ED%95%B4%EA%B2%B0/">문제해결</a> <a class="post-tag" href="/tags/10026/">10026</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
